# 快速开始

## 第一个 Shode 脚本

### 1. 简单的问候脚本

创建一个名为 `hello.sh` 的文件：

```bash
# 使用 Shode 标准库函数
println("=== 欢迎使用 Shode ===")
println("当前时间: " + now())
println("用户名: " + whoami())
println("主机名: " + hostname())

# 字符串操作示例
name = "世界"
println("你好, " + upper(name) + "!")

# 数学运算
result = 10 + 5 * 2
println("计算结果: " + string(result))
```

运行脚本：
```bash
shode run hello.sh
```

### 2. 文件操作示例

```bash
# 创建测试文件
content = "这是测试文件内容\n第二行内容\n第三行用于演示"
write("test.txt", content)

# 读取文件
file_content = readfile("test.txt")
println("文件内容:")
println(file_content)

# 文件信息
println("文件大小: " + string(size("test.txt")) + " 字节")
println("文件存在: " + string(exists("test.txt")))

# 清理
delete("test.txt")
println("测试文件已清理")
```

### 3. 数据处理示例

```bash
# CSV 数据处理
csv_data = "姓名,年龄,城市\n张三,30,北京\n李四,25,上海\n王五,28,广州"

lines = split(csv_data, "\n")
println("CSV 数据处理结果:")

for i, line in lines {
    if i > 0 {  # 跳过表头
        fields = split(line, ",")
        println("  " + fields[0] + " " + fields[1] + "岁 来自" + fields[2])
    }
}

# 字符串操作
text = "   Hello, Shode!   "
println("原始: '" + text + "'")
println("修剪: '" + trim(text) + "'") 
println("大写: '" + upper(text) + "'")
println("小写: '" + lower(text) + "'")
```

## 命令行使用

### 执行单条命令

```bash
# 执行标准库函数
shode exec "upper hello world"
shode exec "trim '   测试   '"
shode exec "contains 'hello world' world"

# 执行外部命令
shode exec "echo Hello from Shode"
shode exec "pwd"

# 组合命令
shode exec "upper hello && lower WORLD"
```

### 交互式 REPL 环境

启动交互式 Shell：
```bash
shode repl
```

在 REPL 中尝试：
```bash
# 基本操作
> upper("hello")
> trim("   test   ")
> now()

# 变量赋值
> name = "Shode"
> println("Hello, " + name)

# 退出 REPL
> exit
```

### 管道操作

```bash
# 通过管道传递数据
echo "hello world" | shode exec "upper"
echo "测试字符串" | shode exec "length"

# 处理文件内容
cat input.txt | shode exec "upper"
```

## 常用标准库函数

### 字符串处理
```bash
# 在脚本中使用
upper("hello")        # HELLO
lower("WORLD")        # world  
trim("   text   ")    # text
contains("hello", "ell")  # true
replace("hello", "l", "x")  # hexxo
```

### 文件操作
```bash
write("file.txt", "内容")    # 写文件
readfile("file.txt")         # 读文件
exists("file.txt")           # 检查存在
delete("file.txt")           # 删除文件
list(".")                    # 列出文件
```

### 系统信息
```bash
whoami()     # 当前用户
hostname()   # 主机名
pid()        # 进程ID
now()        # 当前时间
```

## 实用技巧

### 1. 调试脚本

使用 `-v` 参数查看详细执行信息：
```bash
shode run -v script.sh
```

### 2. 性能测试

比较标准库和外部命令的性能：
```bash
# 标准库函数（快速）
time shode exec "upper 'hello world'"

# 外部命令（较慢） 
time shode exec "echo 'hello world' | tr '[:lower:]' '[:upper:]'"
```

### 3. 错误处理

```bash
# 安全执行，即使出错也不会终止
safe_content = readfile("nonexistent.txt") 
if safe_content == "" {
    println("文件不存在或读取失败")
}

# 异常处理示例
try {
    result = upper(123)  # 错误参数
} catch e {
    println("执行出错: " + e)
}
```

## 下一步学习

### 推荐路径

1. **掌握基础**: 熟练使用常用标准库函数
2. **脚本编写**: 编写复杂的自动化脚本
3. **模块开发**: 创建可复用的代码模块
4. **包管理**: 使用 shode-pkg 管理依赖
5. **高级特性**: 学习安全沙箱和性能优化

### 实践项目

- 文件备份脚本
- 日志分析工具  
- 系统监控脚本
- 数据处理管道
- 自动化部署脚本

## 获取帮助

- 查看所有命令：`shode --help`
- 查看具体命令帮助：`shode run --help`
- 查看标准库函数：`shode exec "list functions"`
- 查阅完整文档：[API参考](./API-标准库)

现在您已经掌握了 Shode 的基本用法，开始编写您的第一个脚本吧！
