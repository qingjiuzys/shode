# 安装指南

## 系统要求

- **操作系统**: Linux, macOS, Windows (WSL2)
- **架构**: x86_64, ARM64
- **内存**: 至少 512MB RAM
- **磁盘空间**: 至少 100MB 可用空间

## 安装方式

### 方式一：二进制文件安装（推荐）

1. **下载最新版本**：
   ```bash
   # 从 Gitee Releases 下载对应平台的二进制文件
   # 示例：下载 Linux x86_64 版本
   wget https://gitee.com/com_818cloud/shode/releases/latest/download/shode-linux-amd64
   ```

2. **设置执行权限**：
   ```bash
   chmod +x shode-linux-amd64
   ```

3. **移动到系统路径**：
   ```bash
   sudo mv shode-linux-amd64 /usr/local/bin/shode
   ```

4. **验证安装**：
   ```bash
   shode --version
   ```

### 方式二：从源码编译

1. **安装 Go 语言环境**（需要 Go 1.18+）：
   ```bash
   # Ubuntu/Debian
   sudo apt install golang-go
   
   # macOS
   brew install go
   
   # 或者从官网下载：https://golang.org/dl/
   ```

2. **克隆源码**：
   ```bash
   git clone https://gitee.com/com_818cloud/shode.git
   cd shode
   ```

3. **编译项目**：
   ```bash
   go build -o shode ./cmd/shode/
   ```

4. **安装到系统**：
   ```bash
   sudo mv shode /usr/local/bin/
   ```

### 方式三：使用包管理器

> ⚠️ 注意：包管理器支持正在开发中，即将推出

## 配置环境变量

### 可选配置

1. **设置缓存目录**：
   ```bash
   export SHODE_CACHE_DIR="$HOME/.shode/cache"
   ```

2. **配置日志级别**：
   ```bash
   export SHODE_LOG_LEVEL="info"  # debug, info, warn, error
   ```

3. **设置模块路径**：
   ```bash
   export SHODE_MODULE_PATH="$HOME/.shode/modules"
   ```

## 验证安装

运行以下命令验证安装是否成功：

```bash
# 检查版本
shode version

# 测试基本功能
shode exec "echo Hello World"

# 运行简单脚本
echo "println('安装成功!')" | shode run -
```

## 升级 Shode

### 二进制方式升级
```bash
# 下载新版本
wget https://gitee.com/com_818cloud/shode/releases/latest/download/shode-linux-amd64

# 替换旧版本
chmod +x shode-linux-amd64
sudo mv shode-linux-amd64 /usr/local/bin/shode
```

### 源码方式升级  
```bash
cd shode
git pull origin main
go build -o shode ./cmd/shode/
sudo mv shode /usr/local/bin/
```

## 卸载 Shode

### 二进制安装卸载
```bash
sudo rm /usr/local/bin/shode
rm -rf ~/.shode/
```

### 源码安装卸载
```bash
sudo rm /usr/local/bin/shode
rm -rf ~/shode/
rm -rf ~/.shode/
```

## 常见问题

### Q: 安装后命令找不到？
A: 确保 `/usr/local/bin` 在您的 `PATH` 环境变量中：
```bash
echo $PATH
```

### Q: 权限被拒绝？
A: 使用 `sudo` 或调整文件权限：
```bash
sudo chmod 755 /usr/local/bin/shode
```

### Q: 版本不匹配？
A: 检查系统架构和下载的二进制文件是否匹配。

## 下一步

- [快速开始](./快速开始)
- [API参考](./API-标准库)
